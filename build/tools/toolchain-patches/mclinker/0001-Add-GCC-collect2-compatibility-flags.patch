From f3934c1a4cc7c6c2ff33bb9bc7794a20a1a9057d Mon Sep 17 00:00:00 2001
From: Andrew Hsieh <andrewhsieh@google.com>
Date: Mon, 8 Apr 2013 13:34:40 +0800
Subject: [PATCH 1/5] Add GCC/collect2 compatibility flags

Add -use-gold, -use-mcld, and use-ld passed by GCC/collect2
both ld.bfd ld.gold ignore

Change-Id: I440fabe396afca4b7555d876700cb9e3b4ac74e5
---
 tools/llvm-mcld/llvm-mcld.cpp | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

diff --git a/tools/llvm-mcld/llvm-mcld.cpp b/tools/llvm-mcld/llvm-mcld.cpp
index c69f507..c7aa97c 100644
--- a/tools/llvm-mcld/llvm-mcld.cpp
+++ b/tools/llvm-mcld/llvm-mcld.cpp
@@ -806,6 +806,23 @@ ArgTextSegAddr("Ttext",
                cl::init(-1U));
 
 //===----------------------------------------------------------------------===//
+// Ignored GCC Compatibility Options
+//===----------------------------------------------------------------------===//
+static cl::opt<bool>
+Arguse_gold("use-gold",
+          cl::desc("GCC/collect2 compatibility: uses ld.gold.  Ignored"),
+          cl::init(false));
+
+static cl::opt<bool>
+Arguse_mcld("use-mcld",
+          cl::desc("GCC/collect2 compatibility: uses ld.mcld.  Ignored"),
+          cl::init(false));
+
+static cl::opt<bool>
+Arguse_ld("use-ld",
+          cl::desc("GCC/collect2 compatibility: uses ld.bfd.  Ignored"),
+          cl::init(false));
+
 // non-member functions
 //===----------------------------------------------------------------------===//
 /// GetOutputStream - get the output stream.
-- 
1.8.1.3

